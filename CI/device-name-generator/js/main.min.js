$(document).ready((function(){function e(e=1){if($("#device_name").val(""),""!=$("#device_asset_code").val()&&""!=$("#device_type").val()&&""!=$("#device_yearmonth").val()){$("#device_generate_name").addClass("wait");var t=$("#device_asset_code").val(),i=$("#device_type").val(),a=$("#device_yearmonth").val();$.post(window.location.href,{device_asset_code:t,device_type:i,device_yearmonth:a,action:"generate_device_name"},(function(e){$("#device_generate_name").removeClass("wait");var t=JSON.parse(e);"success"==t.status?$("#device_name").val(t.message):alert(t.message)}))}else e&&alert("Please fill out all fields before generating a device name.")}function t(e=0){if(e>0)return void setTimeout((function(){t()}),e);let i=$("#2_org_id").find("option:selected").text();if(""!=i){let e=i.split(" "),t=$("#device_asset_code");e[0]>=1e4&&e[0]<=79999&&$(t).val("e"),e[0]>=8e4&&e[0]<=89999&&$(t).val("p"),e[0]>=9e4&&e[0]<=99999&&$(t).val("c")}let a=$("#2_networkdevicetype_id");var c=$(a).val(),n=$(a).find("option:selected").text();let v=$("#device_type");$(v).find("option").each((function(){if(""!=$(this).text()&&"Select Device Type"!=$(this).text()&&""!=c&&""!=n){if($(this).text()==n)return void $(v).val($(this).val());if($(this).text().includes(n))return void $(v).val($(this).val());if(n.includes($(this).text()))return void $(v).val($(this).val())}}))}$("#2_networkdevicetype_id,#2_org_id").on("change",(function(){t(),e(0)})),$("#device_asset_code,#device_type,#device_yearmonth").on("change",(function(){$("#device_name").val(""),""==$("#device_asset_code").val()||""==$("#device_type").val()||""==$("#device_yearmonth").val()||e(0)})),$("#device_generate_name").click((function(){e(1)})),t(1e3)}));