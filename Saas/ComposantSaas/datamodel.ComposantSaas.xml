<?xml version="1.0" encoding="UTF-8"?>
<itop_design
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0">
	<constants>
	</constants>
	<classes>
		<class id="SaasProvider">
		  <parent>FunctionalCI</parent>
		  <properties>
			<category>bizmodel,searchable</category>
			<abstract>false</abstract>
			<key_type>autoincrement</key_type>
			<db_table>saasprovider</db_table>
			<db_key_field>id</db_key_field>
			<db_final_class_field/>
			<naming>
			  <attributes>
				<attribute id="name"/>
			  </attributes>
			  <complementary_attributes>
				<attribute id="organization_name"/>
			  </complementary_attributes>
			</naming>
			<fields_semantic>
			  <state_attribute>status</state_attribute>
			</fields_semantic>
			<style>
			  <icon>images/cloud.png</icon>
			</style>
			<reconciliation>
			  <attributes>
				<attribute id="name"/>
				<attribute id="org_id"/>
				<attribute id="organization_name"/>
			  </attributes>
			</reconciliation>
			<obsolescence>
			  <condition><![CDATA[status='obsolete']]></condition>
			</obsolescence>
		  </properties>
		  <fields>
			<field id="cloud_url"	xsi:type="AttributeURL">
				<sql>cloud_url</sql>
				<default_value />
				<is_null_allowed>false</is_null_allowed>
				<target>_blank</target>
			</field>
			<field id="functionalcis_list" xsi:type="AttributeLinkedSetIndirect">
			  <linked_class>lnkFunctionalCIToSaasProvider</linked_class>
			  <ext_key_to_me>saasprovider_id</ext_key_to_me>
			  <count_min>0</count_min>
			  <count_max>0</count_max>
			  <ext_key_to_remote>functionalci_id</ext_key_to_remote>
			</field>
			<field id="businessprocess_list" xsi:type="AttributeLinkedSetIndirect">
			  <linked_class>lnkSaasProviderToBusinessProcess</linked_class>
			  <ext_key_to_me>saasprovider_id</ext_key_to_me>
			  <count_min>0</count_min>
			  <count_max>0</count_max>
			  <ext_key_to_remote>businessprocess_id</ext_key_to_remote>
			</field>
			<field id="status" xsi:type="AttributeEnum">
			  <values>
				<value id="implementation">implementation</value>
				<value id="production">production</value>
				<value id="decommission">decommission</value>
				<value id="obsolete">obsolete</value>
			  </values>
			  <sql>status</sql>
			  <default_value>production</default_value>
			  <is_null_allowed>false</is_null_allowed>
			  <display_style>list</display_style>
			</field>
		  </fields>
		  <presentation>
			<details>
			  <items>
				<item id="name">
				  <rank>10</rank>
				</item>
				<item id="org_id">
				  <rank>20</rank>
				</item>
				<item id="cloud_url">
					<rank>25</rank>
				</item>
				<item id="status">
				  <rank>30</rank>
				</item>
				<item id="business_criticity">
				  <rank>40</rank>
				</item>
				<item id="move2production">
				  <rank>50</rank>
				</item>
				<item id="description">
				  <rank>60</rank>
				</item>
				<item id="contacts_list">
				  <rank>65</rank>
				</item>
				<item id="functionalcis_list">
				  <rank>70</rank>
				</item>
				<item id="documents_list">
				  <rank>80</rank>
				</item>
				<item id="businessprocess_list">
				  <rank>110</rank>
				</item>
			  </items>
			</details>
			<search>
			  <items>
				<item id="name">
				  <rank>10</rank>
				</item>
				<item id="org_id">
				  <rank>20</rank>
				</item>
				<item id="business_criticity">
				  <rank>30</rank>
				</item>
				<item id="move2production">
				  <rank>40</rank>
				</item>
			  </items>
			</search>
			<list>
			  <items>
				<item id="org_id">
				  <rank>10</rank>
				</item>
				<item id="business_criticity">
				  <rank>20</rank>
				</item>
				<item id="move2production">
				  <rank>30</rank>
				</item>
			  </items>
			</list>
			<summary>
			  <items>
				<item id="org_id">
				  <rank>10</rank>
				</item>
				<item id="business_criticity">
				  <rank>20</rank>
				</item>
				<item id="description">
				  <rank>30</rank>
				</item>
			  </items>
			</summary>
			</presentation>
		  <methods/>
		  <relations>
			<relation id="impacts">
			  <neighbours>
				<neighbour id="businessprocess">
				  <attribute>businessprocess_list</attribute>
				</neighbour>
				<neighbour id="functionalci">
				  <attribute>functionalcis_list</attribute>
				</neighbour>
			  </neighbours>
			</relation>
		  </relations>
		</class>
		<class id="SaasApplication">
			<parent>FunctionalCI</parent>
			<properties>
				<category>bizmodel,searchable</category>
				<abstract>false</abstract>
				<key_type>autoincrement</key_type>
				<db_table>saasapplication</db_table>
				<db_key_field>id</db_key_field>
				<db_final_class_field />
				<naming>
					<attributes>
						<attribute id="name" />
					</attributes>
					<complementary_attributes>
						<attribute id="organization_name"/>
					</complementary_attributes>
				</naming>
				<display_template />
				<icon>images/saas.png</icon>
				<reconciliation>
					<attributes>
						<attribute id="name" />
						<attribute id="org_id" />
						<attribute id="organization_name" />
					</attributes>
				</reconciliation>
				<obsolescence>
          			<condition><![CDATA[status='obsolete']]></condition>
        		</obsolescence>
			</properties>
			<fields>
				<field id="saas_url"	xsi:type="AttributeURL">
						<sql>saas_url</sql>
						<default_value />
						<is_null_allowed>false</is_null_allowed>
						<target>_blank</target>
				</field>
				<field id="status" xsi:type="AttributeEnum">
				  <values>
					<value id="implementation">implementation</value>
					<value id="production">production</value>
					<value id="decommission">decommission</value>
					<value id="obsolete">obsolete</value>
				  </values>
				  <sql>status</sql>
				  <default_value>production</default_value>
				  <is_null_allowed>false</is_null_allowed>
				  <display_style>list</display_style>
				</field>
			</fields>
			<presentation>
				<details>
					<items>
						<item id="name">
							<rank>10</rank>
						</item>
						<item id="org_id">
							<rank>20</rank>
						</item>
						<item id="saas_url">
							<rank>25</rank>
						</item>
						<item id="status">
							<rank>30</rank>
						</item>
						<item id="business_criticity">
							<rank>40</rank>
						</item>
						<item id="move2production">
							<rank>50</rank>
						</item>
						<item id="description">
							<rank>60</rank>
						</item>
						<item id="saasinteractions_list">
							<rank>61</rank>
						</item>
						<item id="contacts_list">
							<rank>70</rank>
						</item>
						<item id="documents_list">
							<rank>80</rank>
						</item>
					</items>
				</details>
				<search>
					<items>
						<item id="name">
							<rank>10</rank>
						</item>
						<item id="org_id">
							<rank>20</rank>
						</item>
						<item id="saas_url">
							<rank>25</rank>
						</item>
						<item id="business_criticity">
							<rank>30</rank>
						</item>
						<item id="move2production">
							<rank>40</rank>
						</item>
					</items>
				</search>
				<list>
					<items>
						<item id="org_id">
							<rank>10</rank>
						</item>
						<item id="saas_url">
							<rank>25</rank>
						</item>
						<item id="business_criticity">
							<rank>30</rank>
						</item>
						<item id="move2production">
							<rank>40</rank>
						</item>
					</items>
				</list>
			</presentation>
			<methods />
		</class>
		<class id="SaasInteraction">
		  <parent>FunctionalCI</parent>
		  <properties>
			<category>bizmodel,searchable</category>
			<abstract>false</abstract>
			<key_type>autoincrement</key_type>
			<db_table>saasinteraction</db_table>
			<db_key_field>id</db_key_field>
			<db_final_class_field/>
			<naming>
			  <attributes>
				<attribute id="name"/>
			  </attributes>
			  <complementary_attributes>
				<attribute id="organization_name"/>
			  </complementary_attributes>
			</naming>
			<fields_semantic>
			  <state_attribute>status</state_attribute>
			</fields_semantic>
			<style>
			  <icon>images/api.png</icon>
			</style>
			<reconciliation>
			  <attributes>
				<attribute id="name"/>
				<attribute id="org_id"/>
				<attribute id="organization_name"/>
			  </attributes>
			</reconciliation>
			<obsolescence>
			  <condition><![CDATA[status='obsolete']]></condition>
			</obsolescence>
		  </properties>
		  <fields>
			<field id="applications_list" xsi:type="AttributeLinkedSetIndirect">
			  <linked_class>lnkApplicationToSaasInteraction</linked_class>
			  <ext_key_to_me>saasinteraction_id</ext_key_to_me>
			  <count_min>0</count_min>
			  <count_max>0</count_max>
			  <ext_key_to_remote>saasapplication_id</ext_key_to_remote>
			</field>
			<field id="businessprocess_list" xsi:type="AttributeLinkedSetIndirect">
			  <linked_class>lnkSaasInteractionToBusinessProcess</linked_class>
			  <ext_key_to_me>saasinteraction_id</ext_key_to_me>
			  <count_min>0</count_min>
			  <count_max>0</count_max>
			  <ext_key_to_remote>businessprocess_id</ext_key_to_remote>
			</field>
			<field id="status" xsi:type="AttributeEnum">
			  <values>
				<value id="implementation">implementation</value>
				<value id="production">production</value>
				<value id="decommission">decommission</value>
				<value id="obsolete">obsolete</value>
			  </values>
			  <sql>status</sql>
			  <default_value>production</default_value>
			  <is_null_allowed>false</is_null_allowed>
			  <display_style>list</display_style>
			</field>
			<field id="type_connexion" xsi:type="AttributeEnum">
				<values>
					<value id="rest">REST</value>
					<value id="sso">SSO</value>
					<value id="soap">SOAP</value>
				</values>
				<sql>type_connexion</sql>
				<default_value>rest</default_value>
				<is_null_allowed>false</is_null_allowed>
				<display_style>list</display_style>
			</field>
			<!--<field id="saastokens_list" xsi:type="AttributeLinkedSetIndirect">
			  <linked_class>lnkSaasTokenToSaasInteraction</linked_class>
			  <ext_key_to_me>saasinteraction_id</ext_key_to_me>
			  <count_min>0</count_min>
			  <count_max>0</count_max>
			  <ext_key_to_remote>saastoken_id</ext_key_to_remote>
			</field>-->
		  </fields>
		  <presentation>
			<details>
			  <items>
				<item id="name">
				  <rank>10</rank>
				</item>
				<item id="org_id">
				  <rank>20</rank>
				</item>
				<item id="status">
				  <rank>30</rank>
				</item>
				<item id="business_criticity">
				  <rank>40</rank>
				</item>
				<item id="type_connexion">
				  <rank>45</rank>
				</item>
				<item id="move2production">
				  <rank>50</rank>
				</item>
				<item id="description">
				  <rank>60</rank>
				</item>
				<item id="contacts_list">
				  <rank>65</rank>
				</item>
				<item id="applications_list">
				  <rank>70</rank>
				</item>
				<!--<item id="saastokens_list">
				  <rank>75</rank>
				</item>-->
				<item id="documents_list">
				  <rank>80</rank>
				</item>
				<item id="businessprocess_list">
				  <rank>110</rank>
				</item>
			  </items>
			</details>
			<search>
			  <items>
				<item id="name">
				  <rank>10</rank>
				</item>
				<item id="org_id">
				  <rank>20</rank>
				</item>
				<item id="business_criticity">
				  <rank>30</rank>
				</item>
				<item id="move2production">
				  <rank>40</rank>
				</item>
			  </items>
			</search>
			<list>
			  <items>
				<item id="org_id">
				  <rank>10</rank>
				</item>
				<item id="business_criticity">
				  <rank>20</rank>
				</item>
				<item id="move2production">
				  <rank>30</rank>
				</item>
			  </items>
			</list>
			<summary>
			  <items>
				<item id="org_id">
				  <rank>10</rank>
				</item>
				<item id="business_criticity">
				  <rank>20</rank>
				</item>
				<item id="description">
				  <rank>30</rank>
				</item>
			  </items>
			</summary>
			</presentation>
		  <methods/>
		  <relations>
			<relation id="impacts">
			  <neighbours>
				<neighbour id="businessprocess">
				  <attribute>businessprocess_list</attribute>
				</neighbour>
				<neighbour id="saasinternalinteraction">
					<query_down>SELECT FunctionalCI AS SI JOIN lnkApplicationToSaasInteraction AS LNK ON LNK.saasapplication_id=SI.id WHERE LNK.saasinteraction_id = :this-&gt;id AND LNK.role="destination"</query_down>
					<query_up>SELECT SaasInteraction WHERE id = 0</query_up>
				</neighbour>
			  </neighbours>
			</relation>
		  </relations>
		</class>
		<class id="SaasToken">
		  <parent>FunctionalCI</parent>
		  <properties>
			<category>bizmodel,searchable</category>
			<abstract>false</abstract>
			<key_type>autoincrement</key_type>
			<db_table>saastoken</db_table>
			<db_key_field>id</db_key_field>
			<db_final_class_field/>
			<naming>
			  <attributes>
				<attribute id="name"/>
			  </attributes>
			  <complementary_attributes>
				<attribute id="organization_name"/>
			  </complementary_attributes>
			</naming>
			<fields_semantic>
			  <state_attribute>status</state_attribute>
			</fields_semantic>
			<style>
			  <icon>images/oauth.png</icon>
			</style>
			<reconciliation>
			  <attributes>
				<attribute id="name"/>
				<attribute id="org_id"/>
				<attribute id="organization_name"/>
			  </attributes>
			</reconciliation>
			<obsolescence>
			  <condition><![CDATA[status='inactive']]></condition>
			</obsolescence>
		  </properties>
		  <fields>
			<field id="token_id" xsi:type="AttributeString">
				  <sql>token_id</sql>
				  <default_value></default_value>
				  <is_null_allowed>true</is_null_allowed>
			</field>
			<field id="application_id" xsi:type="AttributeExternalKey">
				<filter><![CDATA[SELECT FunctionalCI WHERE finalclass IN ('SaasApplication','SoftwareInstance','OtherSoftware')]]></filter>
				<sql>application_id</sql>
				<target_class>FunctionalCI</target_class>
				<is_null_allowed>false</is_null_allowed>
				<on_target_delete>DEL_MANUAL</on_target_delete>
				<allow_target_creation>false</allow_target_creation>
			</field>
			<field id="application_name" xsi:type="AttributeExternalField">
				<extkey_attcode>application_id</extkey_attcode>
				<target_attcode>name</target_attcode>
			</field>
			<field id="interactions_list" xsi:type="AttributeLinkedSet">
					<linked_class>lnkApplicationToSaasInteraction</linked_class>
					<ext_key_to_me>saastoken_id</ext_key_to_me>
					<edit_mode>none</edit_mode>
					<count_min>0</count_min>
					<count_max>0</count_max>
				</field>
			<field id="expiration_date" xsi:type="AttributeDate">
				<sql>expiration_date</sql>
				<default_value />
				<is_null_allowed>true</is_null_allowed>
			</field>
			<field id="status" xsi:type="AttributeEnum">
			  <values>
				<value id="active">active</value>
				<value id="inactive">inactive</value>
			  </values>
			  <sql>status</sql>
			  <default_value>active</default_value>
			  <is_null_allowed>false</is_null_allowed>
			  <display_style>list</display_style>
			</field>
			<field id="type_connexion" xsi:type="AttributeEnum">
				<values>
					<value id="oauth2">oAuth2</value>
					<value id="sso">SSO</value>
					<value id="mdp">connexion</value>
				</values>
				<sql>type_connexion</sql>
				<default_value>oauth2</default_value>
				<is_null_allowed>false</is_null_allowed>
				<display_style>list</display_style>
			</field>
		  </fields>
		  <presentation>
			<details>
			  <items>
				<item id="name">
				  <rank>10</rank>
				</item>
				<item id="token_id">
				  <rank>15</rank>
				</item>
				<item id="org_id">
				  <rank>20</rank>
				</item>
				<item id="status">
				  <rank>30</rank>
				</item>
				<item id="business_criticity">
				  <rank>40</rank>
				</item>
				<item id="move2production">
				  <rank>50</rank>
				</item>
				<item id="application_id">
				  <rank>51</rank>
				</item>
				<item id="interactions_list">
				  <rank>52</rank>
				</item>
				<item id="type_connexion">
				  <rank>53</rank>
				</item>
				<item id="expiration_date">
				  <rank>54</rank>
				</item>
				<item id="description">
				  <rank>60</rank>
				</item>
				<item id="contacts_list">
				  <rank>65</rank>
				</item>
				<item id="documents_list">
				  <rank>80</rank>
				</item>
			  </items>
			</details>
			<search>
			  <items>
				<item id="name">
				  <rank>10</rank>
				</item>
				<item id="token_id">
				  <rank>15</rank>
				</item>
				<item id="org_id">
				  <rank>20</rank>
				</item>
				<item id="business_criticity">
				  <rank>30</rank>
				</item>
				<item id="move2production">
				  <rank>40</rank>
				</item>
			  </items>
			</search>
			<list>
			  <items>
				<item id="org_id">
				  <rank>10</rank>
				</item>
				<item id="token_id">
				  <rank>15</rank>
				</item>
				<item id="business_criticity">
				  <rank>20</rank>
				</item>
				<item id="move2production">
				  <rank>30</rank>
				</item>
			  </items>
			</list>
			<summary>
			  <items>
				<item id="org_id">
				  <rank>10</rank>
				</item>
				<item id="business_criticity">
				  <rank>20</rank>
				</item>
				<item id="description">
				  <rank>30</rank>
				</item>
			  </items>
			</summary>
			</presentation>
		  <methods/>
		  <relations>
			<relation id="impacts">
			  <neighbours>
				<neighbour id="saastokeninteraction">
					<query_down>SELECT SaasInteraction AS SI JOIN lnkApplicationToSaasInteraction AS LNK ON LNK.saasinteraction_id=SI.id WHERE LNK.saastoken_id = :this-&gt;id</query_down>
					<query_up>SELECT SaasToken AS TK JOIN lnkApplicationToSaasInteraction AS LNK ON LNK.saastoken_id=TK.id WHERE LNK.saasinteraction_id = :this-&gt;id</query_up>
				</neighbour>
			  </neighbours>
			</relation>
		  </relations>
		</class>
		<class id="lnkApplicationToSaasInteraction">
			<parent>cmdbAbstractObject</parent>
			<properties>
				<category>bizmodel</category>
				<abstract>false</abstract>
				<db_table>lnkapplicationtosaasinteraction</db_table>
				<naming>
					<attributes>
						<attribute id="saasinteraction_id" />
						<attribute id="saasapplication_id" />
					</attributes>
				</naming>
				<reconciliation>
					<attributes>
						<attribute id="saasinteraction_id" />
						<attribute id="saasapplication_id" />
					</attributes>
				</reconciliation>
			</properties>
			<fields>
				<field id="saasinteraction_id" xsi:type="AttributeExternalKey">
					<sql>saasinteraction_id</sql>
					<is_null_allowed>false</is_null_allowed>
					<target_class>SaasInteraction</target_class>
					<on_target_delete>DEL_AUTO</on_target_delete>
				</field>
				<field id="saasinteraction_name" xsi:type="AttributeExternalField">
					<extkey_attcode>saasinteraction_id</extkey_attcode>
					<target_attcode>name</target_attcode>
				</field>
				<field id="saasapplication_id" xsi:type="AttributeExternalKey">
				<filter><![CDATA[SELECT FunctionalCI WHERE finalclass IN ('SaasApplication','OtherSoftware','PCSoftware','Middleware','WebServer','DBServer')]]></filter>
					<sql>saasapplication_id</sql>
					<target_class>FunctionalCI</target_class>
					<is_null_allowed>false</is_null_allowed>
					<on_target_delete>DEL_AUTO</on_target_delete>
				</field>
				<field id="saasapplication_name" xsi:type="AttributeExternalField">
					<extkey_attcode>saasapplication_id</extkey_attcode>
					<target_attcode>name</target_attcode>
				</field>
				<field id="role" xsi:type="AttributeEnum">
				  <values>
					<value id="source">source</value>
					<value id="destination">destination</value>
				  </values>
				  <sql>role</sql>
				  <is_null_allowed>false</is_null_allowed>
				  <display_style>list</display_style>
				</field>
				<field id="saastoken_id" xsi:type="AttributeExternalKey">
					<sql>saastoken_id</sql>
					<target_class>SaasToken</target_class>
					<is_null_allowed>true</is_null_allowed>
					<on_target_delete>DEL_MANUAL</on_target_delete>
					<allow_target_creation>false</allow_target_creation>
				</field>
				<field id="token_name" xsi:type="AttributeExternalField">
					<extkey_attcode>saastoken_id</extkey_attcode>
					<target_attcode>name</target_attcode>
				</field>
			</fields>
			<methods />
			<presentation>
				<list>
					<items>
						<item id="saasinteraction_id">
							<rank>10</rank>
						</item>
						<item id="saasapplication_id">
							<rank>20</rank>
						</item>
						<item id="role">
							<rank>30</rank>
						</item>
						<item id="saastoken_id">
							<rank>40</rank>
						</item>
					</items>
				</list>
				<search>
					<items>
						<item id="saasinteraction_id">
							<rank>10</rank>
						</item>
						<item id="saasapplication_id">
							<rank>20</rank>
						</item>
						<item id="role">
							<rank>30</rank>
						</item>
						<item id="saastoken_id">
							<rank>40</rank>
						</item>
					</items>
				</search>
				<details>
					<items>
						<item id="saasinteraction_id">
							<rank>10</rank>
						</item>
						<item id="saasapplication_id">
							<rank>20</rank>
						</item>
						<item id="role">
							<rank>30</rank>
						</item>
						<item id="saastoken_id">
							<rank>40</rank>
						</item>
					</items>
				</details>
			</presentation>
		</class>
		<class id="lnkFunctionalCIToSaasProvider">
			<parent>cmdbAbstractObject</parent>
			<properties>
				<category>bizmodel</category>
				<abstract>false</abstract>
				<db_table>lnkfunctionalcitosaasprovider</db_table>
				<naming>
					<attributes>
						<attribute id="saasprovider_id" />
						<attribute id="functionalci_id" />
					</attributes>
				</naming>
				<reconciliation>
					<attributes>
						<attribute id="saasprovider_id" />
						<attribute id="functionalci_id" />
					</attributes>
				</reconciliation>
			</properties>
			<fields>
				<field id="saasprovider_id" xsi:type="AttributeExternalKey">
					<sql>saasprovider_id</sql>
					<is_null_allowed>false</is_null_allowed>
					<target_class>SaasProvider</target_class>
					<on_target_delete>DEL_AUTO</on_target_delete>
				</field>
				<field id="saasprovider_name" xsi:type="AttributeExternalField">
					<extkey_attcode>saasprovider_id</extkey_attcode>
					<target_attcode>name</target_attcode>
				</field>
				<field id="functionalci_id" xsi:type="AttributeExternalKey">
					<sql>functionalci_id</sql>
					<target_class>FunctionalCI</target_class>
					<is_null_allowed>false</is_null_allowed>
					<on_target_delete>DEL_AUTO</on_target_delete>
				</field>
				<field id="functionalci_name" xsi:type="AttributeExternalField">
					<extkey_attcode>functionalci_id</extkey_attcode>
					<target_attcode>name</target_attcode>
				</field>
			</fields>
			<methods />
			<presentation>
				<list>
					<items>
						<item id="saasprovider_id">
							<rank>10</rank>
						</item>
						<item id="functionalci_id">
							<rank>20</rank>
						</item>
					</items>
				</list>
				<search>
					<items>
						<item id="saasprovider_id">
							<rank>10</rank>
						</item>
						<item id="functionalci_id">
							<rank>20</rank>
						</item>
					</items>
				</search>
				<details>
					<items>
						<item id="saasprovider_id">
							<rank>10</rank>
						</item>
						<item id="functionalci_id">
							<rank>20</rank>
						</item>
					</items>
				</details>
			</presentation>
		</class>
		<class id="lnkSaasInteractionToBusinessProcess">
			<parent>cmdbAbstractObject</parent>
			<properties>
				<category>bizmodel</category>
				<abstract>false</abstract>
				<db_table>lnksaasinteractiontobusinessprocess</db_table>
				<naming>
					<attributes>
						<attribute id="businessprocess_id" />
						<attribute id="saasinteraction_id" />
					</attributes>
				</naming>
				<reconciliation>
					<attributes>
						<attribute id="businessprocess_id" />
						<attribute id="saasinteraction_id" />
					</attributes>
				</reconciliation>
			</properties>
			<fields>
				<field id="businessprocess_id" xsi:type="AttributeExternalKey">
					<sql>businessprocess_id</sql>
					<is_null_allowed>false</is_null_allowed>
					<target_class>BusinessProcess</target_class>
					<on_target_delete>DEL_MANUAL</on_target_delete>
				</field>
				<field id="businessprocess_name" xsi:type="AttributeExternalField">
					<extkey_attcode>businessprocess_id</extkey_attcode>
					<target_attcode>name</target_attcode>
				</field>
				<field id="saasinteraction_id" xsi:type="AttributeExternalKey">
					<sql>saasinteraction_id</sql>
					<target_class>SaasInteraction</target_class>
					<is_null_allowed>false</is_null_allowed>
					<on_target_delete>DEL_AUTO</on_target_delete>
				</field>
				<field id="saasinteraction_name" xsi:type="AttributeExternalField">
					<extkey_attcode>saasinteraction_id</extkey_attcode>
					<target_attcode>name</target_attcode>
				</field>
			</fields>
			<methods />
			<presentation>
				<list>
					<items>
						<item id="businessprocess_id">
							<rank>10</rank>
						</item>
						<item id="saasinteraction_id">
							<rank>20</rank>
						</item>
					</items>
				</list>
				<search>
					<items>
						<item id="businessprocess_id">
							<rank>10</rank>
						</item>
						<item id="saasinteraction_id">
							<rank>20</rank>
						</item>
					</items>
				</search>
				<details>
					<items>
						<item id="businessprocess_id">
							<rank>10</rank>
						</item>
						<item id="saasinteraction_id">
							<rank>20</rank>
						</item>
					</items>
				</details>
			</presentation>
		</class>
		<class id="lnkSaasProviderToBusinessProcess">
			<parent>cmdbAbstractObject</parent>
			<properties>
				<category>bizmodel</category>
				<abstract>false</abstract>
				<db_table>lnksaasprovidertobusinessprocess</db_table>
				<naming>
					<attributes>
						<attribute id="businessprocess_id" />
						<attribute id="saasprovider_id" />
					</attributes>
				</naming>
				<reconciliation>
					<attributes>
						<attribute id="businessprocess_id" />
						<attribute id="saasprovider_id" />
					</attributes>
				</reconciliation>
			</properties>
			<fields>
				<field id="businessprocess_id" xsi:type="AttributeExternalKey">
					<sql>businessprocess_id</sql>
					<is_null_allowed>false</is_null_allowed>
					<target_class>BusinessProcess</target_class>
					<on_target_delete>DEL_MANUAL</on_target_delete>
				</field>
				<field id="businessprocess_name" xsi:type="AttributeExternalField">
					<extkey_attcode>businessprocess_id</extkey_attcode>
					<target_attcode>name</target_attcode>
				</field>
				<field id="saasprovider_id" xsi:type="AttributeExternalKey">
					<sql>saasprovider_id</sql>
					<target_class>SaasProvider</target_class>
					<is_null_allowed>false</is_null_allowed>
					<on_target_delete>DEL_AUTO</on_target_delete>
				</field>
				<field id="saasprovider_name" xsi:type="AttributeExternalField">
					<extkey_attcode>saasprovider_id</extkey_attcode>
					<target_attcode>name</target_attcode>
				</field>
			</fields>
			<methods />
			<presentation>
				<list>
					<items>
						<item id="businessprocess_id">
							<rank>10</rank>
						</item>
						<item id="saasprovider_id">
							<rank>20</rank>
						</item>
					</items>
				</list>
				<search>
					<items>
						<item id="businessprocess_id">
							<rank>10</rank>
						</item>
						<item id="saasprovider_id">
							<rank>20</rank>
						</item>
					</items>
				</search>
				<details>
					<items>
						<item id="businessprocess_id">
							<rank>10</rank>
						</item>
						<item id="saasprovider_id">
							<rank>20</rank>
						</item>
					</items>
				</details>
			</presentation>
		</class>
		<class id="FunctionalCI" _delta="must_exist">
			<fields>
				<field id="saasinteractions_list" xsi:type="AttributeLinkedSetIndirect" _delta="define">
				  <linked_class>lnkApplicationToSaasInteraction</linked_class>
				  <ext_key_to_me>saasapplication_id</ext_key_to_me>
				  <count_min>0</count_min>
				  <count_max>0</count_max>
				  <ext_key_to_remote>saasinteraction_id</ext_key_to_remote>
				</field>
			</fields>
			<relations>
				<relation id="impacts">
				  <neighbours>
					<neighbour id="saasinteraction">
					  <attribute>saasinteractions_list</attribute>
					</neighbour>
					<neighbour id="SaasToken">
						<query_down>SELECT SaasToken WHERE application_id = :this-&gt;id</query_down>
						<query_up>SELECT FunctionalCI WHERE id = :this-&gt;application_id</query_up>
					</neighbour>
				  </neighbours>
				</relation>
			</relations>
		</class>
		<class id="OtherSoftware" _delta="must_exist">
			<presentation>
				<details _delta="merge">
					<items>
						<item id="saasinteractions_list" _delta="define">
							<rank>300</rank>
						</item>
					</items>
				</details>
			</presentation>
		</class>
		<class id="SoftwareInstance" _delta="must_exist">
			<fields>
				<field id="system_id" xsi:type="AttributeExternalKey"  _delta="delete" />
				<field id="system_id" xsi:type="AttributeExternalKey"  _delta="define">
				  <filter><![CDATA[SELECT FunctionalCI WHERE finalclass IN ('Server','VirtualMachine','PC','SaasApplication')]]></filter>
				  <sql>functionalci_id</sql>
				  <target_class>FunctionalCI</target_class>
				  <is_null_allowed>false</is_null_allowed>
				  <on_target_delete>DEL_AUTO</on_target_delete>
				  <allow_target_creation>false</allow_target_creation>
				</field>
			</fields>
		</class>
	</classes>
	<menus>
		<menu id="ConfigManagementOverview" xsi:type="DashboardMenuNode" _delta="must_exist">
			<definition>
				<cells>
					<!-- On s'ajoute a software -->
					<cell id="6" _delta="define_if_not_exists">
						<dashlets>
							<dashlet id="CUSTOM_ComposantSaaS_1" xsi:type="DashletHeaderStatic">
								<rank>0</rank>
								<title>Menu:ComposantSaaS</title>
								<icon>ComposantSaas/images/saas.png</icon>
							 </dashlet>
							<dashlet id="CUSTOM_ComposantSaaS_2" xsi:type="DashletBadge" _delta="define">
								<rank>1</rank>
								<class>SaasProvider</class>
							</dashlet>
							<dashlet id="CUSTOM_ComposantSaaS_3" xsi:type="DashletBadge" _delta="define">
								<rank>2</rank>
								<class>SaasApplication</class>
							</dashlet>
							<dashlet id="CUSTOM_ComposantSaaS_4" xsi:type="DashletBadge" _delta="define">
								<rank>3</rank>
								<class>SaasInteraction</class>
							</dashlet>
							<dashlet id="CUSTOM_ComposantSaaS_5" xsi:type="DashletBadge" _delta="define">
								<rank>4</rank>
								<class>SaasToken</class>
							</dashlet>
						</dashlets>
					</cell>
				</cells>
			</definition>
		</menu>
	</menus>
	<user_rights>
		<groups>
			<group id="lnkSaasApps" _delta="define">
				<classes>
					<class id="SaasProvider" />
					<class id="SaasApplication" />
					<class id="SaasInteraction" />
					<class id="SaasToken" />
					<class id="lnkApplicationToSaasInteraction" />
					<class id="lnkFunctionalCIToSaasProvider" />
					<!--<class id="lnkSaasTokenToSaasInteraction" />-->
					<class id="lnkSaasInteractionToBusinessProcess" />
					<class id="lnkSaasProviderToBusinessProcess" />
				</classes>
			</group>
		</groups>
		<profiles>
			<profile id="3" _delta="must_exist">
				<groups _delta="merge">
					<group id="lnkSaasApps" _delta="define">
						<actions>
							<action id="action:read">allow</action>
							<action id="action:bulk read">allow</action>
							<action id="action:write">allow</action>
							<action id="action:bulk write">allow</action>
							<action id="action:delete">allow</action>
						</actions>
					</group>
				</groups>
			</profile>
		</profiles>
	</user_rights>
</itop_design>
